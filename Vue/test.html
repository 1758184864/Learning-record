<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<script src="https://cdn.jsdelivr.net/npm/vue"></script>
<link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
<script src="https://unpkg.com/element-ui/lib/index.js"></script>
<body>
  <div class="deit" id="app">
    <div class="crumbs">
      <el-breadcrumb separator="/">
            <el-breadcrumb-item><i class="el-icon-date"></i> 数据管理</el-breadcrumb-item>
            <el-breadcrumb-item>用户列表</el-breadcrumb-item>
        </el-breadcrumb>
        <div class="cantainer">
                    <el-table style="width: 100%;"
                    :data="userList.slice((currentPage-1)*pagesize,currentPage*pagesize)"
                    >
                        <el-table-column type="index" width="50">    
                        </el-table-column>
                        <el-table-column label="姓名" prop="name" width="180">    
                        </el-table-column>
                        <el-table-column label="年龄" prop="age" width="180">    
                        </el-table-column>
                        <el-table-column label="性别" prop="sex" width="200">    
                        </el-table-column>    
                        <el-table-column label="班级" prop="cls" width="200">    
                        </el-table-column>    
                        <el-table-column label="学号" prop="num" width="200">    
                        </el-table-column>    
                    </el-table>
                        <el-pagination
                            @size-change="handleSizeChange"
                            @current-change="handleCurrentChange"
                            :current-page="currentPage"
                            :page-sizes="[5, 10, 20, 40]"
                            :page-size="pagesize"
                            background
                            layout="total, sizes, prev, pager, next, jumper"
                            :total="userList.length">
                    </el-pagination>
        </div>
    </div>
  </div>
    <script>
    new Vue({
        // el挂载点用于锁定元素,相当于css选择器
      el: '#app',
        //data对象用于存放键值对数据，可用直接用键名获取数据
      data () {
        return {
          currentPage:1, //初始页
          pagesize:5,    //    每页的数据
          userList: [],
          obj: {
            "pageNum":1,
            "pageSize":2,
            "size":2,
            "startRow":1,
            "endRow":2,
            "total":5,
            "pages":3,
            "list":[
              {"id":1,"name":"张三","age":18,"sex":"男","cls":"软件19-1","num":"19604076"},
              {"id":2,"name":"李爽","age":21,"sex":"男","cls":"软件19-2","num":"19405201"},
              {"id":3,"name":"李四","age":21,"sex":"男","cls":"软件19-2","num":"19405201"},
              {"id":2,"name":"王五","age":21,"sex":"男","cls":"软件19-2","num":"19405201"},
              {"id":2,"name":"张六","age":21,"sex":"男","cls":"软件19-2","num":"19405201"},
              {"id":2,"name":"孙七","age":21,"sex":"男","cls":"软件19-2","num":"19405201"},
              {"id":2,"name":"王八","age":21,"sex":"男","cls":"软件19-2","num":"19405201"},
              {"id":2,"name":"张三三","age":21,"sex":"男","cls":"软件19-2","num":"19405201"},
              {"id":2,"name":"李思思","age":21,"sex":"男","cls":"软件19-2","num":"19405201"},
              {"id":2,"name":"网无无","age":21,"sex":"男","cls":"软件19-2","num":"19405201"},
              {"id":2,"name":"赵六六","age":21,"sex":"男","cls":"软件19-2","num":"19405201"},
              {"id":2,"name":"孙七七","age":21,"sex":"男","cls":"软件19-2","num":"19405201"}
            ],
            "prePage":0,
            "nextPage":2,
            "isFirstPage":true,
            "isLastPage":false,
            "hasPreviousPage":false,
            "hasNextPage":true,
            "navigatePages":8,
            "navigatepageNums":[1,2,3],
            "navigateFirstPage":1,
            "navigateLastPage":3,
            "firstPage":1,
            "lastPage":3
          }
        }
      },
      created() {
        this.handleUserList()
      },
      methods: {
        // 初始页currentPage、初始每页数据数pagesize和数据data
        handleSizeChange: function (size) {
                this.pagesize = size;
                console.log(this.pagesize)  //每页下拉显示数据
        },
        handleCurrentChange: function(currentPage){
                this.currentPage = currentPage;
                console.log(this.currentPage)  //点击第几页
        },
        handleUserList() {
          this.userList = this.obj.list;
        }
      }
    });
    </script>
    </body>
</html>